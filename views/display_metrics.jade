extend layout

block content
  div.container
    div.header.clearfix
         nav
                    ul(class='nav nav-pills pull-right')
                        li(role='presentation',class='active')
                            a(href='/')
                                i(class="fa fa-home")
                                span  Index
                        li(role='presentation')
                            a(href='/insert-metrics')
                                i(class="fa fa-plus")
                                span  Insert metrics
         h3 ExpressJS Lab
    if connected
        div(class="alert alert-success",role="alert")
            button(type="button",class="close",data-dismiss="alert",aria-label="Close")
                span(aria-hidden="true") &times;
            b Congratulations!
            p You're well connected.
                i(class="fa fa-smile-o")
    div.jumbotron
        h1
            i(class="fa fa-pie-chart")
            span  display metrics



  script
    :coffee-script
      $('#get-metrics').click (e) ->
        e.preventDefault()
        $.getJSON '/metrics.json', (data) ->
          $('#content').empty()
          c = "<table class=\"table table-bordered table-hover\"><thead><tr><th>TIMESTAMP</th><th>VALUE</th></tr></thead><tbody>"
          for metric in data
            c += "<tr><td>timestamp: #{metric.timestamp}</td><td>value: #{metric.value}</td></tr>"
            c += "</tbody></table>"
          $('#content').append c